<UserControl xmlns="https://github.com/avaloniaui"
			 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
			 mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="700"
			 xmlns:vm = "clr-namespace:Store.ViewModels"
			 x:DataType="vm:BillPageViewModel"
			 x:Class="Store.Views.BillPageView">
	<Design.DataContext>
		<vm:BillPageViewModel/>
	</Design.DataContext>
	<Border CornerRadius="16" Background="White" Margin="10" BoxShadow="0 4 20 0 #30000000">
		<Grid RowDefinitions="Auto,Auto,*">
			<!-- Header & Controls -->
			<Border Grid.Row="0" Background="#F9FAFB" CornerRadius="12,12,0,0" Padding="16,14">
				<Grid ColumnDefinitions="*,Auto">
					<StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="8">
						<ComboBox ItemsSource="{Binding DanhSachBoLoc}"
								  Classes="modern-combo"
								  Width="140"
								  Foreground="Black"
								  FontSize="13"/>

						<TextBox Classes="modern-input"
								 Width="300"
								 FontSize="13"
								 Foreground="Black"
								 Watermark="🔍 Tìm kiếm hóa đơn..."/>
					</StackPanel>

					<Button Grid.Column="1"
							Command="{Binding CreateBillButtonCommand}"
							Classes="primary"
							Height="38"
							Padding="16,0"
							FontSize="13">
						+ Tạo hóa đơn
					</Button>
				</Grid>
			</Border>

			<!-- Table Header -->
			<Border Grid.Row="1"
					Background="#F9FAFB"
					BorderBrush="#E5E7EB"
					BorderThickness="0,1,0,1"
					Padding="20,10">
				<Grid ColumnDefinitions="100,*,180,150">
					<TextBlock Grid.Column="0"
							   Text="Số HD"
							   FontSize="12"
							   FontWeight="SemiBold"
							   Foreground="#374151"/>
					<TextBlock Grid.Column="1"
							   Text="Khách hàng"
							   FontSize="12"
							   FontWeight="SemiBold"
							   Foreground="#374151"/>
					<TextBlock Grid.Column="2"
							   Text="Ngày tạo"
							   FontSize="12"
							   FontWeight="SemiBold"
							   Foreground="#374151"/>
					<TextBlock Grid.Column="3"
							   Text="Trị giá"
							   FontSize="12"
							   FontWeight="SemiBold"
							   Foreground="#374151"
							   TextAlignment="Right"/>
				</Grid>
			</Border>

			<!-- Bill List -->
			<ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Padding="14,8,14,14" Background="White">
				<ItemsControl ItemsSource="{Binding HoaDons}">
					<ItemsControl.ItemTemplate>
						<DataTemplate>
							<Border Background="White"
									BorderBrush="#E5E7EB"
									BorderThickness="1"
									CornerRadius="8"
									Margin="0,0,0,6"
									Padding="6,10"
									BoxShadow="0 1 3 0 #08000000">
								<Grid ColumnDefinitions="100,*,180,150">
									<TextBlock Grid.Column="0"
											   Text="{Binding SoHD}"
											   FontSize="13"
											   Foreground="#111827"
											   VerticalAlignment="Center"/>
									<TextBlock Grid.Column="1"
											   Text="{Binding TenKH}"
											   FontSize="13"
											   FontWeight="Medium"
											   Foreground="#111827"
											   TextTrimming="CharacterEllipsis"
											   VerticalAlignment="Center"/>
									<TextBlock Grid.Column="2"
											   Text="{Binding NgayLapHD}"
											   FontSize="13"
											   Foreground="#6B7280"
											   VerticalAlignment="Center"/>
									<TextBlock Grid.Column="3"
											   FontSize="13"
											   FontWeight="SemiBold"
											   Foreground="#667EEA"
											   TextAlignment="Right"
											   VerticalAlignment="Center">
										<Run Text="{Binding TongTienHD}"/>
										<Run Text=" ₫"/>
									</TextBlock>
								</Grid>
							</Border>
						</DataTemplate>
					</ItemsControl.ItemTemplate>
				</ItemsControl>
			</ScrollViewer>
		</Grid>
	</Border>
</UserControl>
