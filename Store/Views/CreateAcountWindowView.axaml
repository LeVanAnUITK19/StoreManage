<Window xmlns="https://github.com/avaloniaui"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:vm="using:Store.ViewModels"
		mc:Ignorable="d" d:DesignWidth="1000" d:DesignHeight="700"
		Height="700"
		Width="1000"
		Background="Transparent"
		SystemDecorations="None"
		WindowStartupLocation="CenterScreen"
		x:DataType="vm:CreateAcountWindowViewModel"
		x:Class="Store.Views.CreateAcountWindowView"
		Title="ShopQuality - Đăng ký">
	<Window.DataContext>
		<vm:CreateAcountWindowViewModel/>
	</Window.DataContext>
	<Border CornerRadius="16" ClipToBounds="True" BoxShadow="0 10 40 5 #30000000">
		<Border.Background>
			<LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
				<GradientStop Color="#F9FAFB" Offset="0"/>
				<GradientStop Color="#F3F4F6" Offset="1"/>
			</LinearGradientBrush>
		</Border.Background>
		<Grid>
			<!-- Close Button -->
			<Button Command="{Binding $parent[Window].Close}" 
					Classes="close-btn"
					HorizontalAlignment="Right" 
					VerticalAlignment="Top" 
					Margin="0,16,16,0"
					ZIndex="10">
				✕
			</Button>

			<!-- Main Content -->
			<Grid ColumnDefinitions="320,*">
				<!-- Left Panel - Avatar Section -->
				<Border Grid.Column="0" Padding="40,60">
					<StackPanel VerticalAlignment="Center" Spacing="20">
						<!-- Header -->
						<StackPanel Spacing="8" Margin="0,0,0,16">
							<TextBlock Text="Đăng ký" 
									   FontSize="28" 
									   FontWeight="Bold" 
									   Foreground="#111827"
									   TextAlignment="Center"/>
							<TextBlock Text="Tạo tài khoản mới" 
									   FontSize="14" 
									   Foreground="#6B7280"
									   TextAlignment="Center"/>
						</StackPanel>
						
						<!-- Avatar -->
						<Border Background="White" 
								CornerRadius="16" 
								Width="220" 
								Height="220"
								BoxShadow="0 4 12 0 #10000000"
								ClipToBounds="True"
								HorizontalAlignment="Center">
							<Image Source="{Binding HinhAnh, Mode=TwoWay}" 
								   Stretch="UniformToFill"/>
						</Border>
						
						<!-- Upload Button -->
						<Button Command="{Binding ThemAnhButtonCommand}" 
								Classes="secondary"
								Height="40"
								HorizontalAlignment="Stretch"
								FontSize="14">
							📷 Chọn ảnh
						</Button>
					</StackPanel>
				</Border>

				<!-- Right Panel - Form -->
				<Border Grid.Column="1" 
						Background="White" 
						CornerRadius="0,16,16,0"
						BoxShadow="-4 0 16 0 #10000000">
					<ScrollViewer VerticalScrollBarVisibility="Auto">
						<StackPanel Margin="40,60,40,40" Spacing="16">
							<!-- Username & Password -->
							<Grid ColumnDefinitions="*,*" ColumnSpacing="12">
								<StackPanel Grid.Column="0" Spacing="6">
									<TextBlock Text="Tên đăng nhập" Classes="label"/>
									<TextBox Text="{Binding TenDangNhap, Mode=TwoWay}" 
											 Classes="modern-input"
											 Watermark="Nhập tên đăng nhập"/>
								</StackPanel>
								<StackPanel Grid.Column="1" Spacing="6">
									<TextBlock Text="Mật khẩu" Classes="label"/>
									<TextBox Text="{Binding MatKhau, Mode=TwoWay}" 
											 Classes="modern-input"
											 PasswordChar="●"
											 Watermark="Nhập mật khẩu"/>
								</StackPanel>
							</Grid>

							<!-- Full Name & Gender -->
							<Grid ColumnDefinitions="*,*" ColumnSpacing="12">
								<StackPanel Grid.Column="0" Spacing="6">
									<TextBlock Text="Họ và tên" Classes="label"/>
									<TextBox Text="{Binding HoTen, Mode=TwoWay}" 
											 Classes="modern-input"
											 Watermark="Nhập họ và tên"/>
								</StackPanel>
								<StackPanel Grid.Column="1" Spacing="6">
									<TextBlock Text="Giới tính" Classes="label"/>
									<ComboBox ItemsSource="{Binding DanhSachGioiTinh}" 
											  SelectedItem="{Binding GioiTinh, Mode=TwoWay}"
											  Classes="modern-combo"
											  PlaceholderText="Chọn giới tính"/>
								</StackPanel>
							</Grid>

							<!-- Birth Date & Phone -->
							<Grid ColumnDefinitions="*,*" ColumnSpacing="12">
								<StackPanel Grid.Column="0" Spacing="6">
									<TextBlock Text="Ngày sinh" Classes="label"/>
									<CalendarDatePicker SelectedDate="{Binding NgaySinh, Mode=TwoWay}" 
														Background="White"
														BorderBrush="#D1D5DB"
														BorderThickness="1.5"
														CornerRadius="8"
														FontSize="14"
														Padding="12,10"
														MinHeight="40"/>
								</StackPanel>
								<StackPanel Grid.Column="1" Spacing="6">
									<TextBlock Text="Số điện thoại" Classes="label"/>
									<TextBox Text="{Binding SDT, Mode=TwoWay}" 
											 Classes="modern-input"
											 Watermark="+84 xxx xxx xxx"/>
								</StackPanel>
							</Grid>

							<!-- Email -->
							<StackPanel Spacing="6">
								<TextBlock Text="Email" Classes="label"/>
								<TextBox Text="{Binding Email, Mode=TwoWay}" 
										 Classes="modern-input"
										 Watermark="example@email.com"/>
							</StackPanel>

							<!-- Address -->
							<StackPanel Spacing="6">
								<TextBlock Text="Địa chỉ" Classes="label"/>
								<TextBox Text="{Binding DiaChi, Mode=TwoWay}" 
										 Classes="modern-input"
										 AcceptsReturn="True"
										 TextWrapping="Wrap"
										 Height="70"
										 Watermark="Nhập địa chỉ đầy đủ"/>
							</StackPanel>

							<!-- Register Button -->
							<Button Command="{Binding DangKyButtonCommand}" 
									Classes="primary"
									Height="44"
									FontSize="15"
									Margin="0,8,0,0"
									HorizontalAlignment="Stretch">
								Tạo tài khoản
							</Button>
						</StackPanel>
					</ScrollViewer>
				</Border>
			</Grid>
		</Grid>
	</Border>
</Window>
