<UserControl
    d:DesignHeight="700"
    d:DesignWidth="1000"
    mc:Ignorable="d"
    x:Class="Store.Views.CustomerPageView"
    x:DataType="viewModel:CustomerPageViewModel"
    xmlns="https://github.com/avaloniaui"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewModel="clr-namespace:Store.ViewModels"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Border CornerRadius="16" Background="White" Margin="10" BoxShadow="0 4 20 0 #30000000">
    <Grid RowDefinitions="Auto,Auto,*">
        <!-- Header & Controls -->
        <Border Grid.Row="0" Background="#F9FAFB" CornerRadius="12,12,0,0" Padding="20,16">
            <Grid ColumnDefinitions="*,Auto">
                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="10">
                    <Border CornerRadius="8" BorderBrush="#D1D5DB" BorderThickness="1.5">
                        <ComboBox ItemsSource="{Binding DanhSachBoLoc}" 
                                  Background="White"
                                  BorderThickness="0"
                                  Width="160" 
                                  FontSize="14"
                                  Padding="12,9"
                                  CornerRadius="8"
                                  VerticalContentAlignment="Center"/>
                    </Border>
                    
                    <Border CornerRadius="8" BorderBrush="#D1D5DB" BorderThickness="1.5">
                        <TextBox Background="White"
                                 BorderThickness="0"
                                 Width="380" 
                                 FontSize="14"
                                 Watermark="🔍 Tìm kiếm khách hàng..."
                                 Padding="12,9"
                                 CornerRadius="8"
                                 VerticalContentAlignment="Center"/>
                    </Border>
                </StackPanel>
                
                <Button Grid.Column="1" 
                        Command="{Binding TaoKhachHangButtonCommand}" 
                        Classes="primary"
                        Height="40"
                        Padding="20,0"
                        FontSize="14">
                    + Tạo khách hàng
                </Button>
            </Grid>
        </Border>
        
        <!-- Table Header -->
        <Border Grid.Row="1" 
                Background="#F9FAFB" 
                BorderBrush="#E5E7EB" 
                BorderThickness="0,1,0,1"
                Padding="24,10">
            <Grid ColumnDefinitions="110,280,180,*">
                <TextBlock Grid.Column="0" 
                           Text="Mã KH" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="#374151"/>
                <TextBlock Grid.Column="1" 
                           Text="Tên khách hàng" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="#374151"/>
                <TextBlock Grid.Column="2" 
                           Text="Số điện thoại" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="#374151"/>
                <TextBlock Grid.Column="3" 
                           Text="Địa chỉ" 
                           FontSize="13" 
                           FontWeight="SemiBold"
                           Foreground="#374151"/>
            </Grid>
        </Border>
        
        <!-- Customer List -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" Padding="16,8,16,16" Background="White">
            <ItemsControl ItemsSource="{Binding KhachHangs}">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border Background="White"
                                BorderBrush="#E5E7EB" 
                                BorderThickness="1" 
                                CornerRadius="8"
                                Margin="0,0,0,6"
                                Padding="8,10"
                                BoxShadow="0 1 3 0 #08000000">
                            <Grid ColumnDefinitions="110,280,180,*">
                                <TextBlock Grid.Column="0" 
                                           Text="{Binding MaKH}" 
                                           FontSize="14" 
                                           Foreground="#111827"
                                           VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="1" 
                                           Text="{Binding TenKH}" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#111827"
                                           VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="2" 
                                           Text="{Binding SDT}" 
                                           FontSize="14" 
                                           Foreground="#6B7280"
                                           VerticalAlignment="Center"/>
                                <TextBlock Grid.Column="3" 
                                           Text="{Binding DiaChi}" 
                                           FontSize="14" 
                                           Foreground="#6B7280"
                                           TextTrimming="CharacterEllipsis"
                                           VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </ScrollViewer>
    </Grid>
   </Border>
</UserControl>
